---
title: Solana Core
description: Solana Core
date: '2024-11-21'
categories:
  - Solana
published: true
---

# Solana: Breaking the Blockchain Trilemma

### Taejeong Kang
---

## 1. 블록체인 트릴레마

블록체인 기술의 설계와 구현 과정에서 가장 중요한 이슈 중 하나는 블록체인 트릴레마(Blockchain Trilemma)이다.  
이는 탈중앙화(Decentralization), 확장성(Scalability), 보안성(Security) 이라는 세 가지 핵심 특성이 동시에 만족되기 어렵다는 구조적 한계를 의미한다.  

예를 들어, 비트코인(Bitcoin)과 이더리움(Ethereum)은 높은 보안성과 탈중앙화를 유지하지만,  
상대적으로 낮은 트랜잭션 처리 속도(TPS, Transactions Per Second)를 가진다.  
이러한 속도 제한은 블록체인의 대규모 상용화에 있어서 주요 장애 요소로 작용해왔다.

---

## 2. 솔라나

솔라나(Solana)는 이러한 확장성 문제를 해결하기 위해 설계된 블록체인으로,  
초당 수천 건 이상의 트랜잭션 처리 속도(TPS)를 목표로 한다.

2024년 5월 15일 기준 주요 체인들의 TPS 비교 자료에 따르면,  
솔라나는 주요 퍼블릭 블록체인 중에서 가장 빠른 TPS를 기록하고 있으며,  
그 뒤를 Sui, BSC, Polygon, TON, Tron 등이 잇고 있다.  
반면, 이더리움과 비트코인은 상대적으로 매우 느린 속도를 보인다.

솔라나는 높은 TPS를 달성하면서도 가능한 한 보안성과 탈중앙성을 유지하고자 하는 구조를 채택했다.  
그러나 이 과정에서 일부 탈중앙화 요소가 제한되었다는 평가도 존재한다.

---

## 3. 트랜잭션 구조

솔라나의 트랜잭션 처리 구조는 크게 다음 여섯 단계로 구성된다:

> **User → Gulf Stream → Block Building (TPU) → Turbine → Block Verification → Consensus**

각 단계는 다음과 같은 기술적 특성을 지닌다.

---

### 3.1 User Transaction 구조

솔라나의 트랜잭션은 전통적인 블록체인과 달리,  
트랜잭션에 포함되는 모든 계정 정보(Account Addresses)를 명시적으로 포함한다.  

이는 트랜잭션 실행 과정에서 필요한 모든 데이터, 유저, 프로그램 등을 account 형태로 명시하며,  
instruction-level에서의 의존성 분석 및 병렬 실행을 가능하게 한다.  

트랜잭션 메시지에는 instruction과 서명이 함께 포함되어 있으며,  
이 구조는 병렬성 확보에 핵심적인 역할을 수행한다.

---

### 3.2 Gulf Stream: 멤풀 제거 및 선제적 전송

이더리움은 트랜잭션을 멤풀(mempool)에 저장하여 네트워크 전반에 전파된 후  
블록 생성자(Proposer)가 이를 수집하는 방식을 채택한다.  

반면 솔라나는 멤풀을 제거하고,  
트랜잭션을 리더 노드(Leader Node)에 직접 전송하는 Gulf Stream 메커니즘을 도입했다.  

이를 통해 불필요한 P2P 전파 지연을 줄이고 블록 생성 속도를 극대화하였다.

또한 솔라나는 stake-weighted quality of service (SWQoS) 시스템을 통해  
staking 수량에 비례하여 validator의 트랜잭션 처리 우선순위를 결정한다.  
이는 validator 간 경쟁을 유도하며, 이른바 ‘짭 validator’를 배제하는 역할도 수행한다.

---

### 3.3 TPU (Transaction Processing Unit): 병렬 처리 기반 블록 생성

솔라나의 블록 생성은 리더 노드 내의 TPU라는 모듈을 통해 수행된다.  

TPU는 banking stage에서 최대 64개의 트랜잭션을 하나의 entry로 묶고,  
해당 트랜잭션 간의 계정 접근 의존성을 분석하여 병렬 처리 가능한 단위를 선별한다.  

이처럼 트랜잭션 간의 독립성 분석을 기반으로 병렬 실행이 가능하도록 설계된 점이  
솔라나의 고속성의 핵심이다.

---

### 3.4 PoH (Proof of History): 시간 순서 보장

PoH(Proof of History)는 전통적인 합의 알고리즘이 아닌, 시간 순서 증명용 자료구조이다.  

SHA-256 해시를 반복적으로 적용하여 각 해시 값 사이의 연속성과 시간 흐름을 암시적으로 표현한다.  
이를 통해 트랜잭션의 처리 순서를 명확히 기록하며,  
노드 간의 순서 동기화를 위한 추가 통신 필요성을 줄인다.  

PoH는 병렬 처리 및 블록 검증 효율화에 핵심적인 역할을 한다.

---

### 3.5 Turbine: 트리 기반 블록 전파

블록 생성 이후 솔라나는 Turbine이라는 전파 방식을 사용한다.  
이는 블록을 shred 단위로 분할하여 전파하는 구조이다.  

각 블록은 32개의 data shred와 32개의 recovery shred로 구성되며,  
일부 데이터 손실이 발생하더라도 복구가 가능하다.  

전파는 머클트리 기반의 트리 구조로 이루어져 있다.  
리더 노드가 모든 노드에 직접 전송하는 대신,  
일부 노드에 전파하고 그 노드들이 하위 노드에 다시 분산 전파한다.  

이 방식은 네트워크 대역폭 사용량을 줄이고 지연 시간을 최소화한다.

---

### 3.6 블록 검증 및 Tower BFT 합의

수신 노드는 shred 단위로 블록을 수신한 후 다음 과정을 수행한다:

1. **서명 검증 (sig verify)**  
2. **재전파 (retransmit)**  
3. **트랜잭션 재실행 (replay)**  

이 중 replay 단계는 트랜잭션 상태를 재구성하고 local bank 상태를 갱신하는 핵심 단계이다.

솔라나는 Tower BFT라는 합의 알고리즘을 사용한다.  
이는 PoH를 기반으로 사전 순서를 지정하여 블록 간 순서 합의에 필요한 통신을 최소화한다.  
투표는 별도의 트랜잭션으로 처리되며, 사용자 트랜잭션과 함께 블록에 포함된다.

---

## 4. 트랜잭션 상태 및 확정성

솔라나에서 트랜잭션의 상태는 다음 세 단계로 구분된다.

| 단계 | 설명 |
|------|------|
| **Processed** | 로컬 노드에서 실행된 상태 |
| **Confirmed** | 전체 validator의 2/3 이상이 해당 블록에 투표한 상태 |
| **Finalized** | 해당 블록 위에 최소 31개의 블록이 쌓인 상태 |

현재까지 confirmed 상태에 도달했으나 finalized되지 못한 블록은 존재하지 않는 것 으로 알려져 있다.  
이는 솔라나의 빠른 finality를 입증한다.

---

## 5. 결론

솔라나는 고속 트랜잭션 처리, 병렬 실행, 시간 증명 구조(PoH),  
효율적 데이터 전파(Turbine), 멤풀 제거 등의 혁신적 구조를 통해  
확장성(Scalability)이라는 블록체인 트릴레마의 한 축을 극복하고자 했다.  

그 과정에서 일부 탈중앙화 요소의 희생이 있었지만,  
전체적으로는 퍼포먼스와 보안성, 탈중앙성의 균형을 추구한 설계 철학이 반영되어 있다.

이러한 구조적 혁신을 통해 솔라나는 차세대 고성능 블록체인으로 자리 잡았으며,  
그 기술적 접근 방식은 타 체인과의 비교 연구에서도 중요한 분석 대상이 된다.

---
